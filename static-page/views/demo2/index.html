<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>Dashboard</title>

    <!-- Global stylesheets -->
    <!-- <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700,900" rel="stylesheet" type="text/css" /> -->
    <link href="../../global_assets/css/icons/icomoon/styles.css" rel="stylesheet" type="text/css" />
    <link href="../../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="../../assets/css/bootstrap_limitless.min.css" rel="stylesheet" type="text/css" />
    <link href="../../assets/css/layout.min.css" rel="stylesheet" type="text/css" />
    <link href="../../assets/css/components.min.css" rel="stylesheet" type="text/css" />
    <link href="../../assets/css/colors.min.css" rel="stylesheet" type="text/css" />
    <!-- /global stylesheets -->

    <!-- Core JS files -->
    <script src="../../global_assets/js/main/jquery.min.js"></script>
    <script src="../../global_assets/js/main/bootstrap.bundle.min.js"></script>
    <script src="../../global_assets/js/plugins/loaders/blockui.min.js"></script>
    <script src="../../global_assets/js/plugins/ui/ripple.min.js"></script>
    <script src="../../global_assets/js/plugins/visualization/echarts/echarts.min.js"></script>
    <!-- /core JS files -->

    <!-- Theme JS files -->
    <script src="../../global_assets/js/plugins/visualization/d3/d3.min.js"></script>
    <script src="../../global_assets/js/plugins/visualization/d3/d3_tooltip.js"></script>
    <script src="../../global_assets/js/plugins/forms/styling/switchery.min.js"></script>
    <script src="../../global_assets/js/plugins/forms/selects/bootstrap_multiselect.js"></script>
    <script src="../../global_assets/js/plugins/ui/moment/moment.min.js"></script>
    <script src="../../global_assets/js/plugins/pickers/daterangepicker.js"></script>

    <script src="../../global_assets/js/plugins/extensions/jquery_ui/interactions.min.js"></script>
    <script src="../../global_assets/js/plugins/forms/selects/select2.min.js"></script>

    <script src="../../assets/js/app.js"></script>
    <script src="../../global_assets/js/demo_pages/dashboard.js"></script>
    <script src="../../global_assets/js/demo_pages/form_select2.js"></script>

    <!-- /theme JS files -->

    <!-- <script src="https://cdn.bootcdn.net/ajax/libs/echarts/4.8.0/echarts.js"></script> -->
  </head>

  <body>
    <!-- Page content -->
    <div class="page-content">
      <!-- Main sidebar -->
      <!-- <div class="sidebar sidebar-dark sidebar-main sidebar-expand-md"></div> -->
      <!-- /main sidebar -->

      <!-- Main content -->
      <div class="content-wrapper">
        <!-- Page header -->
        <div class="page-header">
          <div class="page-header-content header-elements-md-inline bg-white breadcrumb-line" style="height: 60px; margin-bottom: 20px">
            <div class="page-title d-flex"></div>
            <div class="header-elements d-none text-center text-md-left mb-3 mb-md-0">
              <div class="page-title pb-1 row">
                <div class="form-group col-3">
                  <label>年份</label>
                  <select class="form-control select-fixed-single">
                    <option value="2017">2017</option>
                    <option value="2018">2018</option>
                    <option value="2019">2019</option>
                    <option value="2020" selected="selected">2020</option>
                  </select>
                </div>
                <div class="form-group col-3">
                  <label>月份</label>
                  <select class="form-control select-fixed-single">
                    <option value="1">1月</option>
                    <option value="2">2月</option>
                    <option value="3">3月</option>
                    <option value="4">4月</option>
                    <option value="5">5月</option>
                    <option value="6">6月</option>
                    <option value="7">7月</option>
                    <option value="8">8月</option>
                    <option value="9" selected="selected">9月</option>
                    <option value="10">10月</option>
                    <option value="11">11月</option>
                    <option value="12">12月</option>
                  </select>
                </div>
                <div class="form-group col-3">
                  <label>公司</label>
                  <select class="form-control select-fixed-single">
                    <option value="a" selected="selected">上汽集团</option>
                    <option value="b">安吉物流</option>
                    <option value="c">上汽国际</option>
                    <option value="d">上汽大通</option>
                  </select>
                </div>
                <div class="form-group col-3">
                  <label>场景</label>
                  <select class="form-control select-fixed-single">
                    <option value="AZ">实际数</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- /page header -->

        <!-- Content area -->
        <div class="content pt-0">
          <div class="row">
            <div class="col">
              <div class="card">
                <div class="card-header bg-white">单体公司数量</div>
                <div class="card-body pb-1">
                  <div class="d-flex align-items-center justify-content-left mb-2">
                    <a href="#" class="btn bg-transparent border-teal text-teal rounded-round border-2 btn-icon mr-3">
                      <i class="icon-office"></i>
                    </a>
                    <div>
                      <div class="font-weight-semibold" style="font-size: large">62</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col">
              <div class="card">
                <div class="card-header bg-white">取数通过数</div>
                <div class="card-body pb-1">
                  <div class="d-flex align-items-center justify-content-left mb-2">
                    <a href="#" class="btn bg-transparent border-indigo-400 text-indigo-400 rounded-round border-2 btn-icon mr-3">
                      <i class="icon-stats-bars4"></i>
                    </a>
                    <div>
                      <div class="font-weight-semibold" style="font-size: large">52</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col">
              <div class="card">
                <div class="card-header bg-white">映射通过数</div>
                <div class="card-body pb-1">
                  <div class="d-flex align-items-center justify-content-left mb-2">
                    <a href="#" class="btn bg-transparent border-blue-400 text-blue-400 rounded-round border-2 btn-icon mr-3">
                      <i class="icon-stats-bars4"></i>
                    </a>
                    <div>
                      <div class="font-weight-semibold" style="font-size: large">52</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col">
              <div class="card">
                <div class="card-header bg-white">整体通过数</div>
                <div class="card-body pb-1">
                  <div class="d-flex align-items-center justify-content-left mb-2">
                    <a href="#" class="btn bg-transparent border-green-400 text-green-400 rounded-round border-2 btn-icon mr-3">
                      <i class="icon-stats-bars4"></i>
                    </a>
                    <div>
                      <div class="font-weight-semibold" style="font-size: large">57</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col">
              <div class="card">
                <div class="card-header bg-white">数据总条数</div>
                <div class="card-body pb-1">
                  <div class="d-flex align-items-center justify-content-left mb-2">
                    <a href="#" class="btn bg-transparent border-violet-400 text-violet-400 rounded-round border-2 btn-icon mr-3">
                      <i class="icon-stats-bars4"></i>
                    </a>
                    <div>
                      <div class="font-weight-semibold" style="font-size: large">508427</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-4">
              <div class="card">
                <div class="card-header bg-white">按计划完成百分比</div>
                <div class="card-body">
                  <div id="r1c1" style="height: 360px"></div>
                </div>
              </div>
            </div>
            <div class="col-4">
              <div class="card">
                <div class="card-header bg-white">ERP取数统计</div>
                <div class="card-body">
                  <div id="r1c2" style="height: 360px"></div>
                </div>
              </div>
            </div>
            <div class="col-4">
              <div class="card">
                <div class="card-header bg-white">数据量统计</div>
                <div class="card-body">
                  <div id="r1c3" style="height: 360px"></div>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-12">
              <div class="card">
                <div class="card-header bg-white">接口执行明细</div>
                <div class="card-body">
                  <div class="table-responsive">
                    <table class="table table-striped">
                      <tr>
                        <td>序号</td>
                        <td>公司编码</td>
                        <td>公司别名</td>
                        <td>合并负责人</td>
                        <td>联系方式</td>
                        <td>ERP系统</td>
                        <td>计划导入完成时间</td>
                        <td>状态</td>
                        <td>整体通过</td>
                        <td>取数状态</td>
                        <td>映射通过</td>
                        <td>接口时间</td>
                        <td>未映射科目清单</td>
                      </tr>
                      <tr>
                        <td>1</td>
                        <td>SQJT</td>
                        <td>上汽集团</td>
                        <td>张XX</td>
                        <td>133XXXXXXX</td>
                        <td>金蝶</td>
                        <td>2020/9/27</td>
                        <td class="text-green"><i class="icon-checkmark2"></i> 按计划完成</td>
                        <td>成功</td>
                        <td>成功</td>
                        <td>成功</td>
                        <td>2020/9/27 10:52:03</td>
                        <td></td>
                      </tr>
                      <tr>
                        <td>2</td>
                        <td>AJWL</td>
                        <td>安吉物流</td>
                        <td>王XX</td>
                        <td>133XXXXXXX</td>
                        <td>用友</td>
                        <td>2020/9/27</td>
                        <td>进行中</td>
                        <td>失败</td>
                        <td>成功</td>
                        <td>失败</td>
                        <td>2020/9/27 12:09:23</td>
                        <td>Failed-没有数据，请联系管理员，检查ERP</td>
                      </tr>
                      <tr>
                        <td>3</td>
                        <td>SQGJ</td>
                        <td>上汽国际</td>
                        <td>李XX</td>
                        <td>133XXXXXXX</td>
                        <td>EBS</td>
                        <td>2020/9/27</td>
                        <td>进行中</td>
                        <td>失败</td>
                        <td>成功</td>
                        <td>失败</td>
                        <td>2020/9/27 13:07:09</td>
                        <td>660223</td>
                      </tr>
                      <tr>
                        <td>4</td>
                        <td>SQDT</td>
                        <td>上汽大通</td>
                        <td>孟XX</td>
                        <td>133XXXXXXX</td>
                        <td>SAP</td>
                        <td>2020/9/27</td>
                        <td class="text-danger"><i class="icon-minus3"></i> 延迟完成</td>
                        <td>成功</td>
                        <td>成功</td>
                        <td>失败</td>
                        <td>2020/9/28 14:14:18</td>
                        <td></td>
                      </tr>
                      <tr>
                        <td></td>
                      </tr>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- /content area -->
      </div>
      <!-- /main content -->
    </div>
    <!-- /page content -->
    <script type="text/javascript">
      function initEchart(id, option) {
        const chart = echarts.init(document.getElementById(id));
        chart.clear();
        chart.setOption(option);
        $(window).on('resize', function () {
          chart.resize();
        });
      }

      function r1c1(id) {
        let option = {
          color: ['#3398DB'],
          tooltip: {
            trigger: 'axis',
            axisPointer: {
              // 坐标轴指示器，坐标轴触发有效
              type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'
            },
            formatter: '{a} <br/>{b}: {c}%',
          },
          grid: {
            left: '3%',
            right: '4%',
            bottom: '13%',
            top: '5%',
            containLabel: true,
          },
          xAxis: [
            {
              type: 'category',
              data: [
                '2019年4月',
                '2019年5月',
                '2019年6月',
                '2019年7月',
                '2019年8月',
                '2019年9月',
                '2019年10月',
                '2019年11月',
                '2019年12月',
                '2020年1月',
                '2020年2月',
                '2020年3月',
                '2020年4月',
                '2020年5月',
                '2020年6月',
                '2020年7月',
                '2020年8月',
                '2020年9月',
              ],
              axisTick: {
                alignWithLabel: true,
              },
            },
          ],
          yAxis: [
            {
              type: 'value',
              min: 0,
              max: 100,
              axisLabel: {
                formatter: '{value} %',
              },
            },
          ],
          dataZoom: [
            {
              type: 'slider',
              show: true,
              xAxisIndex: [0],
              start: 0,
              end: 100,
            },
          ],
          series: [
            {
              name: '完成百分比',
              type: 'bar',
              barWidth: '50%',
              label: {
                show: true,
                position: 'top',
                formatter: '{c}%',
                color: '#212121',
              },
              data: [74, 86, 43, 73, 32, 31, 69, 31, 26, 24, 34, 24, 35, 20, 66, 39, 17, 37],
            },
          ],
          color: ['#29B6F6'],
        };

        initEchart(id, option);
      }

      function r1c2(id) {
        let option = {
          tooltip: {
            trigger: 'axis',
          },
          legend: {
            data: ['单体数量', '按时完成接口导入数量', '最终完成接口导入数量', ],
          },
          grid: {
            left: '3%',
            right: '4%',
            bottom: '13%',
            top: '10%',
            containLabel: true,
          },
          toolbox: {
            feature: {
              saveAsImage: {},
            },
          },
          xAxis: {
            type: 'category',
            // boundaryGap: false,
            data: [
              '2019年4月',
              '2019年5月',
              '2019年6月',
              '2019年7月',
              '2019年8月',
              '2019年9月',
              '2019年10月',
              '2019年11月',
              '2019年12月',
              '2020年1月',
              '2020年2月',
              '2020年3月',
              '2020年4月',
              '2020年5月',
              '2020年6月',
              '2020年7月',
              '2020年8月',
              '2020年9月',
            ],
          },
          yAxis: {
            type: 'value',
          },
          dataZoom: [
            {
              type: 'slider',
              show: true,
              xAxisIndex: [0],
              start: 0,
              end: 100,
            },
          ],
          series: [
            {
              name: '单体数量',
              type: 'line',
              stack: '1',
              data: [19, 21, 23, 26, 31, 32, 32, 36, 38, 42, 47, 49, 52, 56, 59, 59, 60, 62],
            },
            {
              name: '按时完成接口导入数量',
              type: 'line',
              stack: '2',
              data: [14, 18, 19, 19, 22, 23, 24, 24, 26, 28, 32, 33, 33, 33, 49, 50, 51, 52],
            },
            {
              name: '最终完成接口导入数量',
              type: 'line',
              stack: '3',
              data: [17, 21, 21, 19, 27, 26, 30, 31, 29, 28, 39, 36, 44, 36, 54, 51, 60, 57],
            },
          ],
        };

        initEchart(id, option);
      }

      function r1c3(id) {
        let option = {
          color: ['#3398DB'],
          tooltip: {
            trigger: 'axis',
            axisPointer: {
              // 坐标轴指示器，坐标轴触发有效
              type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'
            },
            // formatter: '{a} <br/>{b}: {c}%',
          },
          grid: {
            left: '3%',
            right: '4%',
            bottom: '13%',
            top: '5%',
            containLabel: true,
          },
          xAxis: [
            {
              type: 'category',
              data: [
                '2019年4月',
                '2019年5月',
                '2019年6月',
                '2019年7月',
                '2019年8月',
                '2019年9月',
                '2019年10月',
                '2019年11月',
                '2019年12月',
                '2020年1月',
                '2020年2月',
                '2020年3月',
                '2020年4月',
                '2020年5月',
                '2020年6月',
                '2020年7月',
                '2020年8月',
                '2020年9月',
              ],
              axisTick: {
                alignWithLabel: true,
              },
            },
          ],
          yAxis: [
            {
              type: 'value',
              min: 0,
              axisLabel: {
                formatter: '{value}',
              },
            },
          ],
          dataZoom: [
            {
              type: 'slider',
              show: true,
              xAxisIndex: [0],
              start: 0,
              end: 100,
            },
          ],
          series: [
            {
              name: '数据量',
              type: 'bar',
              barWidth: '50%',
              label: {
                show: false,
                position: 'top',
                formatter: '{c}',
                color: '#212121',
              },
              itemStyle: {
                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                  { offset: 0, color: '#83bff6' },
                  { offset: 0.5, color: '#188df0' },
                  { offset: 1, color: '#188df0' },
                ]),
              },
              emphasis: {
                itemStyle: {
                  color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                    { offset: 0, color: '#2378f7' },
                    { offset: 0.7, color: '#2378f7' },
                    { offset: 1, color: '#83bff6' },
                  ]),
                },
              },
              data: [181160, 215285, 161190, 262362, 117078, 110790, 338601, 122061, 108199, 459800, 239950, 145279, 467741, 612378, 668123, 524402, 254824, 508427],
            },
          ],
          color: ['#29B6F6'],
        };

        initEchart(id, option);
      }

      var DashBoard = function () {
        r1c1('r1c1');
        r1c2('r1c2');
        r1c3('r1c3');
      };

      // Initialize module
      // ------------------------------

      document.addEventListener('DOMContentLoaded', function () {
        DashBoard();
      });
    </script>
    <!-- <script src="./index.js"></script> -->
    <style type="text/css">
      .select2-selection {
        width: 150px;
        /* border: none; */
        border-top: none;
        border-left: none;
        border-right: none;
      }
      .select2 {
        width: 150px !important;
      }
    </style>
  </body>
</html>
